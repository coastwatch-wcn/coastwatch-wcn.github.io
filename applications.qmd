---
title: "CoastWatch Projects"
anchor-sections: false
format:
  html:
    toc: false
page-layout: full
jupyter: python3
resources:
  - images/**
---

NOAA CoastWatch Nodes and participants in the CoastWatch satellite courses.

```{python}
import pandas as pd
from IPython.display import display, HTML

df = pd.read_csv("spreadsheets/applications.csv", encoding="latin1")

# --- Generate cards ---
card_html = '<div class="project-grid">'
for _, row in df.iterrows():
    card_html += f'''
    <div class="project-card open-modal" data-modal="{row['modal_id']}">
      <img src="{row['image']}" alt="{row['alt']}">
      <h3>{row['category_title']}</h3>
      <h7>{row['project_name']}</h7>
    </div>
    '''
card_html += '</div>'

# --- Generate modals ---
modal_html = ""
for _, row in df.iterrows():
    modal_html += f'''
<div id="{row['modal_id']}" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h2>{row['project_name']}</h2>
    <div class="modal-columns">
      <div class="modal-column">
        <img src="{row['image']}" alt="{row['alt']}" class="modal-top-image">
        <p class="caption">{row['caption']}</p>
        <h4>Partners</h4>
        <p>{row['partners']}</p>
      </div>
      <div class="modal-column">
        <h4>Description</h4>
        <p>{row['description']}</p>
        <h4>Funding</h4>
        <p>{row['funding']}</p>
        <a href="{row['homepage_url']}" target="_blank" class="btn btn-primary">Homepage</a>
      </div>
    </div>
  </div>
</div>
'''
display(HTML(card_html + modal_html))
```

<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll(".project-card.open-modal").forEach(card => {
    card.addEventListener("click", () => {
      const modalId = card.getAttribute("data-modal");
      const modal = document.getElementById(modalId);
      if (modal) modal.classList.add("show");
    });
  });

  document.querySelectorAll(".close-btn").forEach(button => {
    button.addEventListener("click", () => {
      const modal = button.closest(".modal");
      if (modal) modal.classList.remove("show");
    });
  });

  window.addEventListener("click", (e) => {
    document.querySelectorAll(".modal").forEach(modal => {
      if (e.target === modal) modal.classList.remove("show");
    });
  });

  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape") {
      document.querySelectorAll(".modal.show").forEach(modal => modal.classList.remove("show"));
    }
  });
});
</script>